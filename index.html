<head>
  <title>ACG Roulette</title>
</head>

<body style="background-color: #4c4c4c">
  <center>
    <h1 style="color: #ffffff">ACG Roulette</h1>
    <b style="color: #ffffff">If you lose the roulette...</b><br>
    <a id="punishment" style="color: #ffffff">I forgor</a><br><br>
    <button id="roll" onclick="roll()">Roll</button>
    <button id="fire" onclick="fire()" style="display: none">Fire</button>
    <button id="reroll" onclick="reroll()" style="display: none">Reroll</button>
    <br><br>
    <img id="chambers" src="" style="display: none"></img><br>
    <b id="outcome" style="color: #ffffff">You haven't fired yet</b>
  <footer id="streak" style="color:#ffffff">Luck streak: 0</footer>
  </center>

</body>

<script>
  let punishments = ["You will have to be a furry for 1 day", "You will have to try and not cringe from the group wall", "You will have to forger ðŸ’€"];
  let spinning = true
  let punishIndex = 0;
  let chamber = 0;
  let luckStreak = 0;
  function spin() {
    if (spinning) {
    document.getElementById("punishment").innerHTML = punishments[punishIndex];
    punishIndex++
    if (punishIndex > punishments.length) punishIndex = 0;
  }
    setTimeout(25, spin)
  }
  
  function fire() {
    document.getElementById("fire").style = "display: none"
    document.getElementById("reroll").style = ""
    chamber = Math.floor(Math.random() * 6)
    document.getElementById("chambers").src = `./assets/rr${chamber+1}.png`
    document.getElementById("chambers").style = ""
    if (chamber == 1) {
      document.getElementById("outcome").innerHTML = "Fire! How unfortunate..."
      luckStreak = 0;
      document.getElementById("streak").innerHTML = "Luck streak: 0"
    } else {
      document.getElementById("outcome").innerHTML = "Luck! You survived the punishment."
      luckStreak++
      document.getElementById("streak").innerHTML = "Luck streak: "+luckStreak
    } }
    
   function reroll() {
      document.getElementById("fire").style = "display: none"
      document.getElementById("reroll").style = "display: none"
      document.getElementById("roll").style = ""
      document.getElementById("chambers").style = "display: none"
      document.getElementById("outcome").innerHTML = "You haven't fired yet"
      spinning = true;
   }
    
    function roll() {
      spinning = false;
      document.getElementById("fire").style = ""
      document.getElementById("reroll").style = "display: none"
      document.getElementById("roll").style = "display: none"
      document.getElementById("outcome").innerHTML = "The bullet is loaded, the punishment is decided. Will you be lucky?"
    }
  
  spin()
</script>  
